<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Contact</title>

  <link rel="stylesheet" href="nicepage.css" media="screen">
  <link rel="stylesheet" href="Contact.css" media="screen">
  <script class="u-script" type="text/javascript" src="jquery.js" defer></script>
  <script class="u-script" type="text/javascript" src="nicepage.js" defer></script>

  <meta name="generator" content="Nicepage 7.7.3, nicepage.com">
  <meta name="referrer" content="origin">
  <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
  <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">

  <meta name="theme-color" content="#d9c48d">
  <meta property="og:title" content="Contact">
  <meta property="og:description" content="">
  <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">

  <style>
    /* Hide Nicepage banners; we manage status ourselves */
    .u-form-send-success, .u-form-send-error { display: none !important; }

    /* Inline status + diagnostics */
    #formStatus { display:none; margin-top:12px; font-size:14px; }
    #formStatus.ok  { color:#2e7d32; display:block; }
    #formStatus.err { color:#c62828; display:block; }
    #diagBox { margin-top:14px; font-size:13px; background:#fffbe6; border:1px solid #ffe58f; padding:10px; display:none; }
    #diagBox pre { white-space:pre-wrap; word-break:break-word; margin:8px 0 0; }

    /* Button default + hover so text is always visible */
    a.u-btn-1{
      background-color:#d9a441 !important;
      color:#111 !important;
      border:none !important;
      transition:background-color .2s,color .2s;
      cursor:pointer;
      user-select:none;
    }
    a.u-btn-1:hover, a.u-btn-1:focus{
      background-color:#111 !important;
      color:#fff !important;
    }
    a.u-btn-1:hover *, a.u-btn-1:focus *{
      color:#fff !important; fill:#fff !important; stroke:#fff !important;
    }

    .row-hints{ font-size:12px; color:#666; margin-top:6px;}
  </style>
</head>

<body data-path-to-root="./" data-include-products="false" class="u-body u-xxl-mode" data-lang="en">
  <header class="u-clearfix u-header u-white u-header" id="sec-1a30">
    <div class="u-clearfix u-sheet u-sheet-1">
      <a href="index.html" class="u-image u-logo u-image-1" data-image-width="353" data-image-height="45" aria-label="Armywear">
        <img src="images/armywear_6_logo_sm.jpg" class="u-logo-image u-logo-image-1" alt="Armywear">
      </a>
      <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1" data-responsive-from="MD">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 500;">
          <a class="u-button-style u-hamburger-link u-nav-link" href="#">
            <svg class="u-svg-link" viewBox="0 0 24 24"><use xlink:href="#menu-hamburger"></use></svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" xmlns:xlink="http://www.w3.org/1999/xlink"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect></g></svg>
          </a>
        </div>

        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-spacing-2 u-unstyled u-nav-1">
            <li class="u-nav-item"><a class="u-nav-link" href="index.html" style="padding: 10px 20px;">Αρχική</a></li>
            <li class="u-nav-item"><a class="u-nav-link" href="Contact.html" style="padding: 10px 20px;">Επικοινωνία</a></li>
          </ul>
        </div>

        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="index.html">Αρχική</a></li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Contact.html">Επικοινωνία</a></li>
              </ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>

        <style class="menu-style">
          @media (max-width: 939px) {
            [data-responsive-from="MD"] .u-nav-container { display: none; }
            [data-responsive-from="MD"] .menu-collapse { display: block; }
          }
        </style>
      </nav>
    </div>
  </header>

  <section class="u-clearfix u-container-align-center u-image u-shading u-section-1" id="carousel_09a9" data-image-width="1380" data-image-height="776">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <h1 class="u-align-center u-text u-text-1">Επικοινωνία </h1>
    </div>
  </section>

  <section class="u-align-center u-clearfix u-container-align-center u-palette-1-light-1 u-section-2" id="carousel_addc">
    <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-sheet-1">
      <h2 class="u-text u-text-default u-text-1"> Επικοινωνήστε μαζί μας</h2>

      <div class="u-align-center u-container-align-center u-container-style u-expanded-width-xs u-group u-shape-rectangle u-white u-group-1">
        <div class="u-container-layout u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-container-layout-1">
          <h4 class="u-custom-font u-font-montserrat u-text u-text-default-lg u-text-default-xl u-text-2"> Είναι χαρά μας να σας εξυπηρετούμε.</h4>

          <div class="u-form u-form-1">
            <!-- Hidden iframe to capture the Apps Script response without navigating -->
            <iframe name="gapps_target" id="gapps_target" style="display:none;"></iframe>

            <form id="contactForm"
                  action="https://script.google.com/macros/s/AKfycbyLryaWgFU0WzHc19Isqa6aHUdD-vlAWzgUlvpn1UcMPysMW1HfP3tTHmaF79SpTMkVsQ/exec"
                  method="POST"
                  target="gapps_target"
                  accept-charset="utf-8"
                  class="u-clearfix u-form-spacing-28 u-form-vertical u-inner-form"
                  name="form"
                  style="padding: 0px;">

              <!-- Anti-spam honeypot (must stay empty) -->
              <input type="text" name="company" autocomplete="off" tabindex="-1"
                     style="position:absolute;left:-9999px;opacity:0;height:0;width:0;">

              <!-- Anti-spam timestamp -->
              <input type="hidden" name="ts" id="ts">

              <div class="u-form-email u-form-group u-form-partition-factor-2">
                <label for="email-c6a3" class="u-label">Email</label>
                <input type="email" placeholder="Enter a valid email address" id="email-c6a3" name="email" class="u-border-2 u-border-black u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle" required>
                <div class="row-hints">Χρησιμοποιήστε ένα πραγματικό email.</div>
              </div>

              <div class="u-form-group u-form-name u-form-partition-factor-2">
                <label for="name-c6a3" class="u-label">Ονοματεπώνυμο</label>
                <input type="text" placeholder="Enter your Name" id="name-c6a3" name="name" class="u-border-2 u-border-black u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle" required>
              </div>

              <div class="u-form-group u-form-partition-factor-2 u-form-phone u-form-group-3">
                <label for="phone-84d9" class="u-label">Τηλέφωνο</label>
                <input type="tel" id="phone-84d9" name="phone" placeholder="Enter your phone"
                       class="u-border-2 u-border-black u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle">
              </div>

              <div class="u-form-address u-form-group u-form-partition-factor-2 u-form-group-4">
                <label for="address-be2d" class="u-label">Διεύθυνση</label>
                <input type="text" placeholder="Enter your address" id="address-be2d" name="address" class="u-border-2 u-border-black u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle">
              </div>

              <div class="u-form-group u-form-message">
                <label for="message-c6a3" class="u-label">Μήνυμα</label>
                <textarea placeholder="Enter your message" rows="4" cols="50" id="message-c6a3" name="message" class="u-border-2 u-border-black u-border-no-left u-border-no-right u-border-no-top u-input u-input-rectangle" required></textarea>
              </div>

              <div class="u-align-center u-form-group u-form-submit">
                <a href="#"
                   id="submitBtn"
                   class="u-active-black u-border-none u-btn u-button-style u-custom-font u-font-raleway u-palette-1-base u-btn-1"
                   data-animation-name="customAnimationIn"
                   data-animation-duration="1500"
                   data-animation-delay="500"
                   role="button"
                   onmouseenter="this.style.backgroundColor='#111'; this.style.color='#fff'; Array.from(this.querySelectorAll('*')).forEach(el=>{el.style.color='#fff'; el.style.fill='#fff'; el.style.stroke='#fff';});"
                   onmouseleave="this.style.backgroundColor='#d9a441'; this.style.color='#111'; Array.from(this.querySelectorAll('*')).forEach(el=>{el.style.color=''; el.style.fill=''; el.style.stroke='';});">
                  ΥΠΟΒΟΛΗ
                </a>
                <input type="submit" value="submit" class="u-form-control-hidden">
              </div>

              <!-- Inline status area -->
              <div id="formStatus" aria-live="polite"></div>

              <!-- Diagnostics (click to show checks) -->
              <div id="diagBox">
                <strong>Diagnostics</strong>
                <pre id="diagOut"></pre>
              </div>

              <!-- Nicepage default messages (hidden via CSS) -->
              <div class="u-form-send-message u-form-send-success">Thank you! Your message has been sent.</div>
              <div class="u-form-send-error u-form-send-message">Unable to send your message. Please fix errors then try again.</div>
            </form>

            <!-- Diagnostics buttons -->
            <div style="margin-top:10px; display:flex; gap:8px; justify-content:center;">
              <button id="runDiag" type="button" class="u-btn u-btn-round u-button-style" style="padding:6px 10px;border:1px solid #ccc;background:#fafafa;cursor:pointer;">Run diagnostics</button>
              <button id="openExec" type="button" class="u-btn u-btn-round u-button-style" style="padding:6px 10px;border:1px solid #ccc;background:#fafafa;cursor:pointer;">Open action URL</button>
            </div>

          </div>

        </div>
      </div>
    </div>
  </section>

  <section class="u-align-center u-clearfix u-container-align-center u-image u-shading u-section-3" id="sec-7aaa" data-image-width="1980" data-image-height="1048">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <h2 class="u-align-center u-text u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1500">
        Θέλετε να φτιάξετε <br>το δικό σας brand; Μπορούμε να σας βοηθήσουμε!
      </h2>
      <p class="u-align-center u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1500">
        Συζητάμε μαζί σας και σας κάνουμε προτάσεις που ανταποκρίνονται στις ανάγκες σας.
      </p>
      <a href="mailto:info@armywear.gr?subject=Επικοινωνία&body=Ένας χρήστης πάτησε το κουμπί 'ΞΕΚΙΝΗΣΤΕ ΣΗΜΕΡΑ'" class="u-active-white u-border-none u-btn u-btn-rectangle u-button-style u-custom-font u-font-raleway u-hover-white u-palette-1-base u-radius-0 u-text-active-black u-text-body-color u-text-hover-black u-btn-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="500">ΞΕΚΙΝΗΣΤΕ ΣΗΜΕΡΑ</a>
    </div>
  </section>

  <footer class="u-align-center u-clearfix u-container-align-center u-footer u-grey-80 u-footer" id="sec-0bc3">
    <div class="u-clearfix u-sheet u-sheet-1">
      <p class="u-small-text u-text u-text-variant u-text-1">Δίνουμε μεγάλη σημασία στην ικανοποίηση των πελατών μας.</p>
    </div>
  </footer>

  <section class="u-backlink u-clearfix u-grey-80">
    <p class="u-text"><span>GDtech 2025 - Powered by </span>
      <a class="u-link" href="https://softexperia.com/" target="_blank" rel="nofollow"><span>Softexperia</span></a>
    </p>
  </section>

  <!-- Submission logic with robust checkpoints -->
  <script>
    (function () {
      const form     = document.getElementById('contactForm');
      const button   = document.getElementById('submitBtn');
      const statusEl = document.getElementById('formStatus');
      const tsFld    = document.getElementById('ts');
      const iframe   = document.getElementById('gapps_target');
      const diagBox  = document.getElementById('diagBox');
      const diagOut  = document.getElementById('diagOut');
      const runDiag  = document.getElementById('runDiag');
      const openExec = document.getElementById('openExec');

      // ---- Helpers ----
      function showStatus(type, msg, seconds = 5) {
        statusEl.textContent = msg;
        statusEl.className = type === 'ok' ? 'ok' : 'err';
        statusEl.style.display = 'block';
        if (seconds > 0) setTimeout(() => statusEl.style.display = 'none', seconds * 1000);
      }

      function isHttps() {
        return location.protocol === 'https:';
      }

      function isValidAppsScriptExec(url) {
        // must look like https://script.google.com/macros/s/.../exec
        try {
          const u = new URL(url);
          const hostOk = u.hostname === 'script.google.com';
          const pathOk = /^\/macros\/s\/[^/]+\/exec$/.test(u.pathname);
          return hostOk && pathOk && u.protocol === 'https:';
        } catch (e) { return false; }
      }

      function logDiag(lines) {
        diagBox.style.display = 'block';
        diagOut.textContent = String(lines).trim();
        console.log('[Contact diagnostics]\\n' + lines);
      }

      function buildDiag() {
        const lines = [];
        lines.push('Page URL: ' + location.href);
        lines.push('HTTPS page: ' + isHttps());
        lines.push('Action URL: ' + form.action);
        lines.push('Looks like Apps Script /exec: ' + isValidAppsScriptExec(form.action));
        lines.push('Has honeypot field (company): ' + !!form.querySelector('input[name="company"]'));
        lines.push('Has timestamp field (ts): ' + !!tsFld);
        lines.push('Target iframe present: ' + !!iframe);
        lines.push('Tip: Shift+Click the ΥΠΟΒΟΛΗ button to open the Apps Script response in a new tab for visual confirmation.');
        lines.push('If no email arrives:');
        lines.push('  • In Apps Script -> Deployments -> Web app: Execute as "Me", Who has access "Anyone".');
        lines.push('  • Use the CURRENT /exec URL. If you redeployed, it changes.');
        lines.push('  • Check spam in armywear.gr@gmail.com and watch Quotas in Apps Script.');
        return lines.join('\\n');
      }

      // ---- Init anti-spam ts ----
      tsFld.value = Date.now();

      // ---- Buttons ----
      runDiag.addEventListener('click', () => logDiag(buildDiag()));
      openExec.addEventListener('click', () => {
        try { window.open(form.action, '_blank'); }
        catch(e){ alert('Cannot open action URL. See console.'); console.error(e); }
      });

      // ---- Make the anchor act like a button ----
      button.addEventListener('click', function (e) {
        e.preventDefault();
        // Shift + click: temporarily open response in a new tab to visually confirm server runs
        if (e.shiftKey) {
          const originalTarget = form.getAttribute('target');
          form.setAttribute('target', '_blank');
          form.requestSubmit();
          // restore soon after
          setTimeout(() => {
            if (originalTarget) form.setAttribute('target', originalTarget);
            else form.removeAttribute('target');
          }, 100);
          return;
        }
        form.requestSubmit();
      });

      // ---- Submit flow (plain form post → iframe) ----
      form.addEventListener('submit', function (e) {
        // Let the browser submit the form to the iframe (no CORS). Just show status & add watchers.
        showStatus('ok', 'Αποστολή…', 0);

        // Safety checks BEFORE the browser sends:
        if (!isHttps()) {
          showStatus('err', 'Η σελίδα δεν είναι HTTPS. Ανοίξτε https://www.armywear.gr', 8);
        }
        if (!isValidAppsScriptExec(form.action)) {
          showStatus('err', 'Το action URL δεν είναι έγκυρο Apps Script /exec.', 8);
          logDiag(buildDiag());
        }

        // Wait for the iframe to load the "thanks" page from Apps Script
        const TIMEOUT_MS = 15000; // 15s timeout
        let done = false;

        const onLoad = () => {
          if (done) return;
          done = true;
          showStatus('ok', 'Ευχαριστούμε! Το μήνυμά σας εστάλη.', 6);
          form.reset();
          tsFld.value = Date.now();
          iframe.removeEventListener('load', onLoad);
        };

        const onTimeout = setTimeout(() => {
          if (done) return;
          done = true;
          showStatus('err', 'Δεν λάβαμε επιβεβαίωση από τον διακομιστή.', 10);
          logDiag(buildDiag() + '\\n\\nTimeout after ' + (TIMEOUT_MS/1000) + 's. Πιθανές αιτίες:\\n' +
            '  • Λάθος ή παλιό /exec URL στο action.\\n' +
            '  • Το Web app δεν είναι "Who has access: Anyone".\\n' +
            '  • Προσωρινό block/Quota στο GmailApp.sendEmail.\\n' +
            '  • Δοκιμάστε Shift+Click στο ΥΠΟΒΟΛΗ για να δείτε την απάντηση σε νέο tab.');
          iframe.removeEventListener('load', onLoad);
        }, TIMEOUT_MS);

        iframe.addEventListener('load', function handleLoad() {
          clearTimeout(onTimeout);
          onLoad();
          iframe.removeEventListener('load', handleLoad);
        });

        // Let the native submit proceed to the iframe (no preventDefault).
      });

      // Expose a quick console command for support
      window._contactDiag = () => logDiag(buildDiag());
      console.log('Contact form ready. For diagnostics, run _contactDiag() in the console.');
    })();
  </script>
</body>
</html>
